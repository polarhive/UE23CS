; PROGRAM TO FIND SUM OF N POSITIVE NUMBERS & NEGATIVE NUMBERS IN AN ARRAY
; USING NESTED FUNCTION CALL 
; USE ONE FUNCTION TO CALL FIND THE SUM OF POSITIVE NUMBERS 
; AND ANOTHER FUNCTION TO FIND THE SUM OF NEGATIVE NUMBERS

	LDR R1,=A  ; START ADDRESS OF THE ARRAY
	MOV R5, #0
	MOV R3, #0
	MOV R6, #6 ; COUNT
	
	BL  POSNEGSUM
	SWI 0X011
	
POSNEGSUM: LDR R2,[R1],#4
		   STMIA R13!,{R14}  ; PUSH RETURN ADDRESS 
           MOVS R4, R2, LSL #1
		   BCS L1
		   BL POSSUM
		   B L2
	   L1: BL NEGSUM
	   L2: LDMDB R13!,{R14}
	       SUBS R6,R6,#1
	       BNE POSNEGSUM
           MOV PC, LR
		   
POSSUM:	ADD R3, R3, R2         	
		MOV PC, LR
	
NEGSUM:	ADD R5, R5, R2
	    MOV PC, LR
		
		.TEXT 
A: .WORD 10, -20, 30, -40, 50, 60




 